aspect TypeMap {

  public Integer Program.typeCount = 0;

  public Map<Integer,TypeDecl> Program.typeMap = new HashMap<Integer,TypeDecl>();

  public Integer Program.getTypeNum(TypeDecl type) {
    Integer count = typeCount++;
    typeMap.put(count, type);
    return count;
  }

  syn lazy Integer TypeDecl.typeNum() = program().getTypeNum(this);


}